<main class="min-h-screen bg-[#000d01] mt-24 relative flex flex-col overflow-x-hidden">
  <app-navbar></app-navbar>

  <div class="flex-grow pb-20">
    @if (!selectedServiceId) {
    <div class="relative overflow-hidden">
      <app-services-home></app-services-home>
      <div class="overflow-hidden relative">
        <img
          src="images/blog/bg-pattern-hero.svg"
          alt="Háttér minta"
          class="absolute inset-0 w-full h-full object-cover pointer-events-none z-20"
        />
      </div>
    </div>
    } 
    
    @else {
    <section class="lg:px-[15%] text-white relative z-10 animate-in fade-in duration-700 min-h-full">
      <div class="w-full mx-auto space-y-24">
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-24 items-start">
          <div class="flex flex-col justify-start h-full">
            <div class="space-y-8">
              <div class="space-y-4">
                <div class="pt-4">
                  <a routerLink="/services" class="text-[#76e594] inline-flex items-center gap-2 group">
                    <mat-icon class="transition-transform group-hover:-translate-x-1">arrow_back</mat-icon>
                    <span class="font-bold uppercase tracking-widest text-sm">
                      {{ "serv_layout.back_link" | translate }}
                    </span>
                  </a>
                </div>
                <h1 class="text-2xl md:text-5xl font-bold grotesk uppercase text-neutral-100 leading-tight">
                  {{ getTranslation("title") }}
                </h1>
                <div class="h-1 w-20 bg-[#76e594]"></div>
              </div>
              <div class="space-y-6 max-w-xl">
                @for (paragraph of getFormattedText('desc'); track $index) {
                <p class="text-md text-neutral-400 leading-relaxed" [innerHTML]="paragraph"></p>
                }
              </div>
            </div>
          </div>
          <div class="relative group h-fit self-start w-full">
            <div class="relative rounded-2xl overflow-hidden border border-white/10 shadow-2xl"
                 [class.light-bg-fix]="selectedServiceId === 'kapcsolasi-rajz'">
              <img [src]="getServiceData()?.imgUrl" [alt]="getTranslation('title')"
                   class="w-full h-full object-cover min-h-[300px] lg:min-h-[500px]" />
            </div>
          </div>
        </div>

        @if (getTranslation('d1')) {
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-24 items-start">
          <div class="order-2 lg:order-1 relative rounded-2xl overflow-hidden border border-white/10 min-h-[350px]">
            <img [src]="getServiceData()?.imgUrlOne" class="absolute inset-0 w-full h-full object-cover" />
          </div>
          <div class="order-1 lg:order-2 space-y-6 max-w-xl">
            @if (getHighlightedSentence('d1')) {
            <div class="p-6 bg-[#76e594]/5 border-l-2 border-[#76e594] rounded-r-xl mb-8">
              <p class="text-lg text-neutral-300 grotesk italic leading-relaxed">
                {{ getHighlightedSentence("d1") }}
              </p>
            </div>
            } 
            @for (paragraph of getFormattedText('d1'); track $index) {
            <p class="text-md text-neutral-400 leading-relaxed" [innerHTML]="paragraph"></p>
            }
          </div>
        </div>
        }

        @if (getTranslation('d2')) {
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-24 items-start">
          <div class="space-y-6 max-w-xl">
            @if (getHighlightedSentence('d2')) {
            <div class="p-6 bg-[#76e594]/5 border-l-2 border-[#76e594] rounded-r-xl mb-8">
              <p class="text-lg text-neutral-300 grotesk italic leading-relaxed">
                {{ getHighlightedSentence("d2") }}
              </p>
            </div>
            } 
            @for (paragraph of getFormattedText('d2'); track $index) {
            <p class="text-md text-neutral-400 leading-relaxed" [innerHTML]="paragraph"></p>
            }
          </div>
          <div class="relative rounded-2xl overflow-hidden border border-white/10 bg-neutral-800 p-6 flex items-center justify-center min-h-[350px]">
            <img [src]="getServiceData()?.imgUrlTwo" class="max-w-full rounded-2xl max-h-full object-contain" />
          </div>
        </div>
        }

        @if (getTranslation('d3')) {
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-24 items-start">
          <div class="order-2 lg:order-1 relative rounded-2xl overflow-hidden border border-white/10 bg-black min-h-[350px]">
            <img [src]="getServiceData()?.imgUrlThree" class="w-full h-auto max-h-full object-contain mx-auto" />
          </div>
          <div class="order-1 lg:order-2 space-y-6 max-w-xl">
            @for (paragraph of getFormattedText('d3'); track $index) {
            <div [innerHTML]="paragraph" class="text-md text-neutral-400 leading-relaxed"></div>
            }
          </div>
        </div>
        }
      </div>
    </section>
    }
  </div>

  <app-footer></app-footer>
</main>